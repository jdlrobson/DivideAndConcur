@import './variables.less';

@backSideColor: #ccc;
@frontSideColor: @someday-orange;

.card {
  box-sizing: border-box;
  transform-style: preserve-3d;
  perspective: 1000px;
  width: @cardSize;
  height: @cardSize;
  background: @backSideColor;
  float: left;
  margin-right: @card-gutter;
  text-align: center;
  position: relative;
  font-size: 0.8em;
}

.card--large {
  width: @cardSizeLarge;
  height: @cardSizeLarge;
  font-size: 1.4em;
}

.card--known {
  opacity: 0.4;
  .card__front {
    background: @someday-blue;
  }
}


.card--empty {
  border: solid 1px @someday-orange;
  background: lighten(@someday-orange, 20%);
}

.card--unknown {
  opacity: 0.4;
  .card__front {
    background: @backSideColor;
  }
}

.card__front,
.card__back {
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

.card__front {
  z-index: 2;
  background: @frontSideColor;
  /* for firefox 31 */
  transform: rotateY(0deg);
  line-height: 1.3;
}

.card--flipped {
  transform: rotateY(180deg);
}

.card__pinyin,
.card__english {
  font-size: 0.8em;
  overflow: hidden;
  height: 25px;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.card__pinyin {
  font-family: sans-serif;
  font-weight: bold;
}

.card__english {
  font-family: serif;
}

.card--small {
  width: @cardSizeSmall;
  height: @cardSizeSmall;
  font-size: 0.7em;
}

.card--wide {
	width: @cardSizeSmall * 2;
}

@difficultyBlockSize: (@cardSizeSmall - @cardBorder - @cardBorder) / 5;

.card__difficulty-bar {
  float: left;
  height: 10px;
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;

  &:after {
    content: "";
    display: block;
    clear: both;
  }

  div {
		@block-margin-right: 1px;
    float: left;
    margin-right: @block-margin-right;
    width: @difficultyBlockSize - @block-margin-right;
    height: @card-border-width;
    background-color: red;
    &.easy {
      background-color: green;
    }
  }
}

.card__debug {
	position: absolute;
	bottom: 2px;
	right: 2px;
}

.card__control__button {
  cursor: pointer;
}

.wrong {
  position: absolute;
  left: 10px;
  bottom: 0;
}

.tick {
  position: absolute;
  right: 10px;
  bottom: 0;
}

.card__label--hidden-character {
  visibility: hidden;
}

.card__label {
  font-size: 2.5em;
  font-weight: bold;
  font-family: "Hiragino Sans GB", "Droid Sans fallback";
}

.card__label--long {
  font-size: 2em;
  word-wrap: break-word;
}

.card__label--custom {
  font-family: serif;
  font-size: 1em;
  line-height: 4em;
  &.card__label--long {
    font-size: 0.8em;
  }
}

@app-width: 465px;
@card-max-width: (@app-width / 3) - @card-gutter - (@card-border-width * 2);

@media all and ( min-width: @app-width ) {
  .card {
    width: @card-max-width;
    height: @card-max-width;
    font-size: 1em;
  }
  .card--small {
    font-size: 0.7em;
    width: @cardSizeSmall;
    height: @cardSizeSmall;
  }
	.card--wide {
		width: @cardSizeSmall * 2;
	}
}